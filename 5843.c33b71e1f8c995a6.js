"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5843],{5843:(F,p,o)=>{o.r(p),o.d(p,{CalculerPalierPageModule:()=>L});var u=o(4755),g=o(5030),s=o(7002),c=o(2443),d=o(5861),e=o(3020),h=o(6554),f=o(2435),x=o(2235),m=o(849),_=o(9573),v=o(1193),C=o(223);function T(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"div",2)(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._UZ(4,"ion-label"),e.TgZ(5,"ion-range",10),e.NdJ("ngModelChange",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.dataNitrox.indexMelange=r)})("ionInput",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.resetNitrox(r))}),e.qZA(),e._UZ(6,"ion-label"),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(2),e.hij(" Nitrox : ",i.dataNitrox.melange,""),e.xp6(3),e.Q6J("ngModel",i.dataNitrox.indexMelange)}}function Z(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"div",2)(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._UZ(4,"ion-label"),e.TgZ(5,"ion-range",11),e.NdJ("ngModelChange",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.profondeur=r)})("ionInput",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.resetProfNitrox(r))}),e.qZA(),e._UZ(6,"ion-label"),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(2),e.hij(" Profondeur: ",i.profondeur,"m"),e.xp6(3),e.Q6J("ngModel",i.profondeur)}}function P(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"div",2)(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._UZ(4,"ion-label"),e.TgZ(5,"ion-range",12),e.NdJ("ngModelChange",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.profondeur=r)})("ionInput",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.resetProf(r))}),e.qZA(),e._UZ(6,"ion-label"),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(2),e.hij(" Profondeur: ",i.profondeur,"m"),e.xp6(3),e.Q6J("ngModel",i.profondeur)}}function M(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"div",2)(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._UZ(4,"ion-label"),e.TgZ(5,"ion-range",13),e.NdJ("ngModelChange",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.indexTime=r)})("ionInput",function(r){e.CHM(i);const a=e.oxw();return e.KtG(a.resetTime(r))}),e.qZA(),e._UZ(6,"ion-label"),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(2),e.hij(" Dur\xe9e de plong\xe9e : ",i.time," minutes"),e.xp6(3),e.Q6J("max",i.max)("ngModel",i.indexTime)}}function w(t,l){if(1&t&&(e.TgZ(0,"span"),e._uU(1," palier \xe0 "),e.TgZ(2,"strong",19),e._uU(3),e.qZA(),e._uU(4," : "),e.TgZ(5,"strong",19),e._uU(6),e.qZA(),e._uU(7),e._UZ(8,"br"),e.qZA()),2&t){const i=e.oxw(2).$implicit;e.xp6(3),e.hij("",i[0],"m"),e.xp6(3),e.hij("",i[1],"mn"),e.xp6(1),e.hij(" ",i[2],"")}}function A(t,l){if(1&t&&(e.TgZ(0,"span"),e._uU(1," palier \xe0 "),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e._uU(4," : "),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7),e._UZ(8,"br"),e.qZA()),2&t){const i=e.oxw(2).$implicit;e.xp6(3),e.hij("",i[0],"m"),e.xp6(3),e.hij("",i[1],"mn"),e.xp6(1),e.hij(" ",i[2],"")}}function N(t,l){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,w,9,3,"span",18),e.YNc(2,A,9,3,"span",18),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","(Oxy)"==i[2]),e.xp6(1),e.Q6J("ngIf","(Oxy)"!=i[2])}}function U(t,l){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,N,3,2,"span",18),e.qZA()),2&t){const i=l.$implicit;e.xp6(1),e.Q6J("ngIf",i)}}function q(t,l){if(1&t&&(e.TgZ(0,"div",14)(1,"p",15),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p",16),e.YNc(6,U,2,1,"span",17),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA()()),2&t){const i=e.oxw();e.xp6(2),e.hij("",i.newCalculs[0]," "),e.xp6(2),e.hij("",i.newCalculs[1]," "),e.xp6(2),e.Q6J("ngForOf",i.newCalculs[2]),e.xp6(2),e.hij("",i.newCalculs[3]," "),e.xp6(2),e.hij("",i.newCalculs[4]," ")}}function y(t,l){if(1&t&&(e.TgZ(0,"div",14)(1,"p",15),e._uU(2),e.qZA(),e.TgZ(3,"p",20),e._uU(4),e.qZA()()),2&t){const i=e.oxw();e.xp6(2),e.AsE("",i.profondeur,"m \xe9quivalent \xe0 ",i.profEquiv,"m "),e.xp6(2),e.hij(" Il n'existe pas de table ",i.profEquiv,"m ")}}function b(t,l){if(1&t&&(e.TgZ(0,"div",14)(1,"p",20),e._uU(2,"Aucune donn\xe9e disponible pour les valeurs:"),e._UZ(3,"br"),e._uU(4),e.qZA()()),2&t){const i=e.oxw();e.xp6(4),e.AsE("",i.profondeur,"m, Nitrox : ",i.dataNitrox.melange,"")}}const E=[{path:"",component:(()=>{class t{initValues(){this.max=100,this.profondeur=18,this.visibled=!1,this.type="standard",this.newCalcul="",this.newCalculs=["","",[],"",""],this.oldCalcul="",this.time=70,this.indexTime=3,this.nitroxActif=!0,this.warning2=!1,this.warningNitrox=!1,this.info=[],this.info2="",this.info3="",this.profEquiv=18,this.dataNitrox={indexMelange:2,melange:"35/65",codeMelange:35}}constructor(i,n,r,a,Q,Y,j){this.route=i,this.tableService=n,this.modalController=r,this.toastController=a,this.settingsService=Q,this.parameterService=Y,this.storage=j,this.max=100,this.profondeur=18,this.visibled=!1,this.type="standard",this.newCalcul="",this.newCalculs=["","",[],"",""],this.oldCalcul="",this.time=70,this.indexTime=3,this.nitroxActif=!0,this.warning2=!1,this.warningNitrox=!1,this.info=[],this.info2="",this.info3="",this.profEquiv=18,this.dataNitrox={indexMelange:2,melange:"35/65",codeMelange:35},this.ListeTable=new Array,this.ListeMinutes=new Array,this.settingsService.nitroxActived.subscribe(O=>{this.ngOnInit()})}ngOnInit(){var i=this;return(0,d.Z)(function*(){i.initValues(),i.storage.create();let n=yield i.storage.get("nitrox");i.nitroxActif=null!=n&&n,i.ListeMinutes=i.tableService.ListeMinutes,i.ListeTable=i.tableService.ListeTable,n=yield i.storage.get("datas_palier"),n&&i.nitroxActif===n.nitroxActif&&(i.profondeur=n.profondeur,i.max=n.max,i.visibled=n.visibled,i.type=n.type,i.newCalcul=n.newCalcul,i.newCalculs=n.newCalculs,i.oldCalcul=n.oldCalcul,i.minutes=n.minutes,i.time=n.time,i.indexTime=n.indexTime,i.nitroxActif=n.nitroxActif,i.warning2=n.warning2,i.warningNitrox=n.warningNitrox,i.info=n.info,i.info2=n.info2,i.info3=n.info3,i.profEquiv=n.profEquiv,i.dataNitrox=n.dataNitrox),1==i.nitroxActif?i.resetNitrox(null):i.resetProf(null)})()}ngOnDestroy(){this.storage.set("datas_palier",{profondeur:this.profondeur,max:this.max,visibled:this.visibled,ListeTable:this.ListeTable,ListeMinutes:this.ListeMinutes,type:this.type,newCalcul:this.newCalcul,newCalculs:this.newCalculs,oldCalcul:this.oldCalcul,minutes:this.minutes,time:this.time,indexTime:this.indexTime,nitroxActif:this.nitroxActif,warning2:this.warning2,warningNitrox:this.warningNitrox,info:this.info,info2:this.info2,info3:this.info3,profEquiv:this.profEquiv,dataNitrox:this.dataNitrox})}calculer(){this.warning2||(this.newCalculs=this.tableService.calculerPallier(this.profEquiv,this.time,this.type,0,this.profondeur,this.nitroxActif))}resetProfNitrox(i){i&&(this.profondeur=i.target.value),this.resetNitrox(null)}resetNitrox(i){if(i&&(this.dataNitrox.indexMelange=i.target.value),this.ListeMinutes&&this.ListeMinutes[this.type]&&(this.profEquiv=this.tableService.resetNitrox(this.dataNitrox,this.profondeur),this.verifProf(),!this.warning2&&!this.warningNitrox)){let n=this.tableService.getMinuteFromNitrox(this.type,this.profEquiv,this.time);this.max=n.max,this.indexTime=n.indexTime,this.resetTime(null)}}resetProf(i){if(i&&(this.profondeur=i.target.value),!this.ListeMinutes||!this.ListeMinutes[this.type])return;this.profEquiv=this.profondeur,this.max=this.ListeMinutes[this.type][this.profEquiv].length-1;let n=!1,r=0;for(let a of this.ListeMinutes[this.type][this.profEquiv])a==Number(this.time)&&(n=!0,this.indexTime=r),r++;0==n&&(this.indexTime=Number((this.max/2).toFixed())),this.resetTime(null)}resetTime(i){i&&(this.indexTime=i.target.value,this.time=this.ListeMinutes[this.type][this.profEquiv][this.indexTime]),this.ListeMinutes&&this.ListeMinutes[this.type]&&(this.warning2||this.warningNitrox||(this.time=this.ListeMinutes[this.type][this.profEquiv][this.indexTime],this.calculer()))}verifProf(){this.profEquiv<=0?(this.warningNitrox=!0,this.warning2=!1):this.profEquiv<=11?(this.newCalcul="\nLa table des "+this.profEquiv+"m n'existe pas",this.warning2=!0):(this.warning2=!1,this.warningNitrox=!1)}segmentChanged(i){this.nitroxActif?this.resetNitrox(null):this.resetProf(null)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(c.gz),e.Y36(h.w),e.Y36(s.IN),e.Y36(s.yF),e.Y36(f.g),e.Y36(x.T),e.Y36(m.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-calculer-palier"]],decls:20,vars:9,consts:[["title","Avec paliers"],[3,"fullscreen"],[1,"conteneur"],["mode","ios",3,"ngModel","ionChange","ngModelChange"],["value","standard"],["value","oxy"],["class","conteneur",4,"ngIf"],[1,"resultats"],["class","nouveauTexte",4,"ngIf"],["id","conteneurRange"],["snaps","","mode","ios","min","0","max","5","step","1",3,"ngModel","ngModelChange","ionInput"],["mode","ios","min","9","max","43","step","1",3,"ngModel","ngModelChange","ionInput"],["mode","ios","min","12","max","60","step","3",3,"ngModel","ngModelChange","ionInput"],["mode","ios","min","0","step","1",3,"max","ngModel","ngModelChange","ionInput"],[1,"nouveauTexte"],["id","titleTable"],[1,"paliers"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"strongOxy"],[2,"color","#ffc107"]],template:function(i,n){1&i&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content",1),e._UZ(2,"app-background"),e.TgZ(3,"div",2)(4,"ion-segment",3),e.NdJ("ionChange",function(a){return n.segmentChanged(a)})("ngModelChange",function(a){return n.type=a}),e.TgZ(5,"ion-segment-button",4)(6,"ion-label"),e._uU(7," Air Standard "),e.qZA()(),e.TgZ(8,"ion-segment-button",5)(9,"ion-label"),e._uU(10," Air/Oxy 6m "),e.qZA()()()(),e.YNc(11,T,7,2,"div",6),e.YNc(12,Z,7,2,"div",6),e.YNc(13,P,7,2,"div",6),e.YNc(14,M,7,3,"div",6),e.TgZ(15,"div",7),e.YNc(16,q,11,5,"div",8),e.YNc(17,y,5,3,"div",8),e.YNc(18,b,5,2,"div",8),e.qZA()(),e._UZ(19,"app-footer",0)),2&i&&(e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngModel",n.type),e.xp6(7),e.Q6J("ngIf",n.nitroxActif),e.xp6(1),e.Q6J("ngIf",n.nitroxActif),e.xp6(1),e.Q6J("ngIf",!n.nitroxActif),e.xp6(1),e.Q6J("ngIf",!n.warning2&&!n.warningNitrox),e.xp6(2),e.Q6J("ngIf",!n.warning2&&!n.warningNitrox),e.xp6(1),e.Q6J("ngIf",n.warning2),e.xp6(1),e.Q6J("ngIf",n.warningNitrox))},dependencies:[u.sg,u.O5,g.JJ,g.On,s.W2,s.Q$,s.I_,s.cJ,s.GO,s.QI,_.G,v.S,C.c]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(E),c.Bz]}),t})();var J=o(8373);let L=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,g.u5,s.Pc,J.H,I]}),t})()}}]);