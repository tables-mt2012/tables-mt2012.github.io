"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5843],{5843:(F,p,o)=>{o.r(p),o.d(p,{CalculerPalierPageModule:()=>L});var u=o(4755),g=o(5030),s=o(7002),c=o(2443),h=o(5861),i=o(3020),d=o(6554),f=o(2435),x=o(2235),m=o(849),_=o(9573),v=o(1193),C=o(223);function T(t,l){if(1&t){const e=i.EpF();i.TgZ(0,"div",2)(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"div",9),i._UZ(4,"ion-label"),i.TgZ(5,"ion-range",10),i.NdJ("ngModelChange",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.dataNitrox.indexMelange=r)})("ionInput",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.resetNitrox(r))}),i.qZA(),i._UZ(6,"ion-label"),i.qZA()()}if(2&t){const e=i.oxw();i.xp6(2),i.hij(" Nitrox : ",e.dataNitrox.melange,""),i.xp6(3),i.Q6J("ngModel",e.dataNitrox.indexMelange)}}function Z(t,l){if(1&t){const e=i.EpF();i.TgZ(0,"div",2)(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"div",9),i._UZ(4,"ion-label"),i.TgZ(5,"ion-range",11),i.NdJ("ngModelChange",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.profondeur=r)})("ionInput",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.resetProfNitrox(r))}),i.qZA(),i._UZ(6,"ion-label"),i.qZA()()}if(2&t){const e=i.oxw();i.xp6(2),i.hij(" Profondeur: ",e.profondeur,"m"),i.xp6(3),i.Q6J("ngModel",e.profondeur)}}function P(t,l){if(1&t){const e=i.EpF();i.TgZ(0,"div",2)(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"div",9),i._UZ(4,"ion-label"),i.TgZ(5,"ion-range",12),i.NdJ("ngModelChange",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.profondeur=r)})("ionInput",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.resetProf(r))}),i.qZA(),i._UZ(6,"ion-label"),i.qZA()()}if(2&t){const e=i.oxw();i.xp6(2),i.hij(" Profondeur: ",e.profondeur,"m"),i.xp6(3),i.Q6J("ngModel",e.profondeur)}}function M(t,l){if(1&t){const e=i.EpF();i.TgZ(0,"div",2)(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"div",9),i._UZ(4,"ion-label"),i.TgZ(5,"ion-range",13),i.NdJ("ngModelChange",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.indexTime=r)})("ionInput",function(r){i.CHM(e);const a=i.oxw();return i.KtG(a.resetTime(r))}),i.qZA(),i._UZ(6,"ion-label"),i.qZA()()}if(2&t){const e=i.oxw();i.xp6(2),i.hij(" Dur\xe9e de plong\xe9e : ",e.time," minutes"),i.xp6(3),i.Q6J("max",e.max)("ngModel",e.indexTime)}}function w(t,l){if(1&t&&(i.TgZ(0,"span"),i._uU(1," palier \xe0 "),i.TgZ(2,"strong",19),i._uU(3),i.qZA(),i._uU(4," : "),i.TgZ(5,"strong",19),i._uU(6),i.qZA(),i._uU(7),i._UZ(8,"br"),i.qZA()),2&t){const e=i.oxw(2).$implicit;i.xp6(3),i.hij("",e[0],"m"),i.xp6(3),i.hij("",e[1],"mn"),i.xp6(1),i.hij(" ",e[2],"")}}function A(t,l){if(1&t&&(i.TgZ(0,"span"),i._uU(1," palier \xe0 "),i.TgZ(2,"strong"),i._uU(3),i.qZA(),i._uU(4," : "),i.TgZ(5,"strong"),i._uU(6),i.qZA(),i._uU(7),i._UZ(8,"br"),i.qZA()),2&t){const e=i.oxw(2).$implicit;i.xp6(3),i.hij("",e[0],"m"),i.xp6(3),i.hij("",e[1],"mn"),i.xp6(1),i.hij(" ",e[2],"")}}function N(t,l){if(1&t&&(i.TgZ(0,"span"),i.YNc(1,w,9,3,"span",18),i.YNc(2,A,9,3,"span",18),i.qZA()),2&t){const e=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf","(Oxy)"==e[2]),i.xp6(1),i.Q6J("ngIf","(Oxy)"!=e[2])}}function q(t,l){if(1&t&&(i.TgZ(0,"span"),i.YNc(1,N,3,2,"span",18),i.qZA()),2&t){const e=l.$implicit;i.xp6(1),i.Q6J("ngIf",e)}}function y(t,l){if(1&t&&(i.TgZ(0,"div",14)(1,"p",15),i._uU(2),i.qZA(),i.TgZ(3,"p"),i._uU(4),i.qZA(),i.TgZ(5,"p",16),i.YNc(6,q,2,1,"span",17),i.qZA(),i.TgZ(7,"p"),i._uU(8),i.qZA(),i.TgZ(9,"p"),i._uU(10),i.qZA()()),2&t){const e=i.oxw();i.xp6(2),i.hij("",e.newCalculs[0]," "),i.xp6(2),i.hij("",e.newCalculs[1]," "),i.xp6(2),i.Q6J("ngForOf",e.newCalculs[2]),i.xp6(2),i.hij("",e.newCalculs[3]," "),i.xp6(2),i.hij("",e.newCalculs[4]," ")}}function U(t,l){if(1&t&&(i.TgZ(0,"div",14)(1,"p",15),i._uU(2),i.qZA(),i.TgZ(3,"p",20),i._uU(4),i.qZA()()),2&t){const e=i.oxw();i.xp6(2),i.AsE("",e.profondeur,"m \xe9quivalent \xe0 ",e.profEquiv,"m "),i.xp6(2),i.hij(" Il n'existe pas de table ",e.profEquiv,"m ")}}function b(t,l){if(1&t&&(i.TgZ(0,"div",14)(1,"p",20),i._uU(2,"Aucune donn\xe9e disponible pour les valeurs:"),i._UZ(3,"br"),i._uU(4),i.qZA()()),2&t){const e=i.oxw();i.xp6(4),i.AsE("",e.profondeur,"m, Nitrox : ",e.dataNitrox.melange,"")}}const E=[{path:"",component:(()=>{class t{initValues(){this.max=100,this.profondeur=18,this.visibled=!1,this.type="standard",this.newCalcul="",this.newCalculs=["","",[],"",""],this.oldCalcul="",this.time=70,this.indexTime=3,this.nitroxActif=!0,this.warning2=!1,this.warningNitrox=!1,this.info=[],this.info2="",this.info3="",this.profEquiv=18,this.dataNitrox={indexMelange:2,melange:"35/65",codeMelange:35}}constructor(e,n,r,a,Q,Y,j){this.route=e,this.tableService=n,this.modalController=r,this.toastController=a,this.settingsService=Q,this.parameterService=Y,this.storage=j,this.max=100,this.profondeur=18,this.visibled=!1,this.type="standard",this.newCalcul="",this.newCalculs=["","",[],"",""],this.oldCalcul="",this.time=70,this.indexTime=3,this.nitroxActif=!0,this.warning2=!1,this.warningNitrox=!1,this.info=[],this.info2="",this.info3="",this.profEquiv=18,this.dataNitrox={indexMelange:2,melange:"35/65",codeMelange:35},this.ListeTable=new Array,this.ListeMinutes=new Array,this.settingsService.nitroxActived.subscribe(O=>{this.ngOnInit()})}ngOnInit(){var e=this;return(0,h.Z)(function*(){e.initValues(),e.storage.create();let n=yield e.storage.get("nitrox");e.nitroxActif=null!=n&&n,e.ListeMinutes=e.tableService.ListeMinutes,e.ListeTable=e.tableService.ListeTable,n=yield e.storage.get("datas_palier"),n&&e.nitroxActif===n.nitroxActif&&(e.profondeur=n.profondeur,e.max=n.max,e.visibled=n.visibled,e.type=n.type,e.newCalcul=n.newCalcul,e.newCalculs=n.newCalculs,e.oldCalcul=n.oldCalcul,e.minutes=n.minutes,e.time=n.time,e.indexTime=n.indexTime,e.nitroxActif=n.nitroxActif,e.warning2=n.warning2,e.warningNitrox=n.warningNitrox,e.info=n.info,e.info2=n.info2,e.info3=n.info3,e.profEquiv=n.profEquiv,e.dataNitrox=n.dataNitrox),1==e.nitroxActif?e.resetNitrox(null):e.resetProf(null)})()}ngOnDestroy(){this.storage.set("datas_palier",{profondeur:this.profondeur,max:this.max,visibled:this.visibled,ListeTable:this.ListeTable,ListeMinutes:this.ListeMinutes,type:this.type,newCalcul:this.newCalcul,newCalculs:this.newCalculs,oldCalcul:this.oldCalcul,minutes:this.minutes,time:this.time,indexTime:this.indexTime,nitroxActif:this.nitroxActif,warning2:this.warning2,warningNitrox:this.warningNitrox,info:this.info,info2:this.info2,info3:this.info3,profEquiv:this.profEquiv,dataNitrox:this.dataNitrox})}calculer(){this.warning2||(this.newCalculs=this.tableService.calculerPallier(this.profEquiv,this.time,this.type,0,this.profondeur,this.nitroxActif))}resetProfNitrox(e){e&&(this.profondeur=e.target.value),this.resetNitrox(null)}resetNitrox(e){if(e&&(this.dataNitrox.indexMelange=e.target.value),this.ListeMinutes&&this.ListeMinutes[this.type]&&(this.profEquiv=this.tableService.resetNitrox(this.dataNitrox,this.profondeur),this.verifProf(),!this.warning2&&!this.warningNitrox)){let n=this.tableService.getMinuteFromNitrox(this.type,this.profEquiv,this.time);this.max=n.max,this.indexTime=n.indexTime,this.resetTime(null)}}resetProf(e){if(e&&(this.profondeur=e.target.value),!this.ListeMinutes||!this.ListeMinutes[this.type])return;this.profEquiv=this.profondeur,console.log(this.ListeMinutes[this.type][this.profEquiv],this.type,this.profEquiv),this.max=this.ListeMinutes[this.type][this.profEquiv].length-1;let n=!1,r=0;for(let a of this.ListeMinutes[this.type][this.profEquiv])a==Number(this.time)&&(n=!0,this.indexTime=r),r++;0==n&&(this.indexTime=Number((this.max/2).toFixed())),this.resetTime(null)}resetTime(e){e&&(this.indexTime=e.target.value,this.time=this.ListeMinutes[this.type][this.profEquiv][this.indexTime]),this.ListeMinutes&&this.ListeMinutes[this.type]&&(this.warning2||this.warningNitrox||(this.time=this.ListeMinutes[this.type][this.profEquiv][this.indexTime],this.calculer(),console.log(this.newCalculs)))}verifProf(){this.profEquiv<=0?(this.warningNitrox=!0,this.warning2=!1):this.profEquiv<=11?(this.newCalcul="\nLa table des "+this.profEquiv+"m n'existe pas",this.warning2=!0):(this.warning2=!1,this.warningNitrox=!1)}segmentChanged(e){this.nitroxActif?this.resetNitrox(null):this.resetProf(null)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(c.gz),i.Y36(d.w),i.Y36(s.IN),i.Y36(s.yF),i.Y36(f.g),i.Y36(x.T),i.Y36(m.K))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-calculer-palier"]],decls:20,vars:9,consts:[["title","Avec paliers"],[3,"fullscreen"],[1,"conteneur"],["mode","ios",3,"ngModel","ionChange","ngModelChange"],["value","standard"],["value","oxy"],["class","conteneur",4,"ngIf"],[1,"resultats"],["class","nouveauTexte",4,"ngIf"],["id","conteneurRange"],["snaps","","mode","ios","min","0","max","5","step","1",3,"ngModel","ngModelChange","ionInput"],["mode","ios","min","9","max","43","step","1",3,"ngModel","ngModelChange","ionInput"],["mode","ios","min","12","max","60","step","3",3,"ngModel","ngModelChange","ionInput"],["mode","ios","min","0","step","1",3,"max","ngModel","ngModelChange","ionInput"],[1,"nouveauTexte"],["id","titleTable"],[1,"paliers"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"strongOxy"],[2,"color","#ffc107"]],template:function(e,n){1&e&&(i._UZ(0,"app-header",0),i.TgZ(1,"ion-content",1),i._UZ(2,"app-background"),i.TgZ(3,"div",2)(4,"ion-segment",3),i.NdJ("ionChange",function(a){return n.segmentChanged(a)})("ngModelChange",function(a){return n.type=a}),i.TgZ(5,"ion-segment-button",4)(6,"ion-label"),i._uU(7," Air Standard "),i.qZA()(),i.TgZ(8,"ion-segment-button",5)(9,"ion-label"),i._uU(10," Air/Oxy 6m "),i.qZA()()()(),i.YNc(11,T,7,2,"div",6),i.YNc(12,Z,7,2,"div",6),i.YNc(13,P,7,2,"div",6),i.YNc(14,M,7,3,"div",6),i.TgZ(15,"div",7),i.YNc(16,y,11,5,"div",8),i.YNc(17,U,5,3,"div",8),i.YNc(18,b,5,2,"div",8),i.qZA()(),i._UZ(19,"app-footer",0)),2&e&&(i.xp6(1),i.Q6J("fullscreen",!0),i.xp6(3),i.Q6J("ngModel",n.type),i.xp6(7),i.Q6J("ngIf",n.nitroxActif),i.xp6(1),i.Q6J("ngIf",n.nitroxActif),i.xp6(1),i.Q6J("ngIf",!n.nitroxActif),i.xp6(1),i.Q6J("ngIf",!n.warning2&&!n.warningNitrox),i.xp6(2),i.Q6J("ngIf",!n.warning2&&!n.warningNitrox),i.xp6(1),i.Q6J("ngIf",n.warning2),i.xp6(1),i.Q6J("ngIf",n.warningNitrox))},dependencies:[u.sg,u.O5,g.JJ,g.On,s.W2,s.Q$,s.I_,s.cJ,s.GO,s.QI,_.G,v.S,C.c]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[c.Bz.forChild(E),c.Bz]}),t})();var J=o(8373);let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[u.ez,g.u5,s.Pc,J.H,I]}),t})()}}]);